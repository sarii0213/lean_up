<%= turbo_frame_tag 'modal' do %>
  <div data-controller="modal" data-modal-target="backdrop" style="position:fixed;left:0;top:0;width:100%;height:100%;background-color:rgba(0,0,0,0.4);z-index:3;">
    <div class="ui mini active modal" style="margin:auto;margin-top:20px;position:relative;">
      <%= button_tag data: { action: 'modal#close' }, style: 'position:fixed; right: 1rem; top:1.5rem' do %>
        <i data-modal-target="button" class="close icon" style="color: #333"></i>
      <% end %>
      <div class="header" style="border-radius:0.28571429rem">record your weight</div>
      <div class="content">
        <%= form_with model: record, method: :put, class: "ui form #{record.errors.any? ? 'error' : ''}", data: { modal_target: 'form' } do |f| %>
          <div class="field">
            <%= f.label :recorded_on, '記録日' %>
            <%= f.date_field :recorded_on, data: { modal_target: 'date', action: 'change->modal#updateURL'} %>
          </div>
          <div class="field">
            <%= f.label :weight, '体重 (kg)' %>
            <%= f.text_field :weight, placeholder: 'XX.X' %>
          </div>
          <div class="field">
            <%= f.label :body_fat, '体脂肪率 (%)' %>
            <%= f.text_field :body_fat, placeholder: 'XX.X' %>
          </div>
          <% if record.errors.any? %>
            <div class="ui error message">
              <ul class="list">
                <% record.errors.each do |error| %>
                  <li><%= error.full_message %></li>
                <% end %>
              </ul>
            </div>
          <% end %>
          <%= f.submit '登録', class: 'actions ui fluid large teal submit button' %>
        <% end %>
      </div>
    </div>
  </div>
<% end %>
